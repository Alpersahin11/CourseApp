{% extends "_layout.html" %}
{% load static %}

{% block title %} My Enrolled Courses {% endblock %}

{% block head %}
  <style>
    .course-card {
      border: none;
      border-radius: 1rem;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .course-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }

    .course-img {
      height: 200px;
      object-fit: cover;
    }

    .btn-glow {
      transition: all 0.3s ease;
    }

    .btn-glow:hover {
      box-shadow: 0 0 12px #0d6efd;
      transform: scale(1.03);
    }
  </style>
{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="mb-4 text-primary fw-bold text-center">Courses You Are Enrolled In</h2>

  <div class="row">
    {% if page_obj.object_list %}
      {% for course in page_obj.object_list %}
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card course-card h-100 shadow-sm bg-light">
            {% if course.img %}
              <img src="{{ course.img.url }}" class="card-img-top course-img" alt="{{ course.title }}">
            {% endif %}
            <div class="card-body d-flex flex-column justify-content-between">
              <div>
                <h5 class="card-title fw-semibold text-dark">{{ course.title }}</h5>
                <p class="card-text text-muted small">{{ course.description|truncatechars:100|safe }}</p>
              </div>
              <div class="mt-3">
                <p class="card-text mb-1">
                  <i class="bi bi-person-circle me-1 text-secondary"></i>
            <small class="text-muted">Instructor: {{ course.teacher.get_full_name }}</small>
                </p>
                <a href="{% url 'course_detail' course.id %}" class="btn btn-outline-primary w-100 mt-3 shadow-sm rounded-pill">
                  <i class="bi bi-arrow-right-circle me-1"></i> Go to Course
                </a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="col-12">
        <div class="alert alert-info text-center">
          You are not enrolled in any courses yet.
        </div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
