{% extends "_layout.html" %} {% load static %} {% block title %} Courses
{%endblock %} {% block content %}

<div class="container">
  <div class="row">
    <div class="col-12">
      <div class="row justify-content-center">
        <nav aria-label="Page navigation example ">
        <div class="d-flex justify-content-end mb-3">
          <a href="{% url 'create_course' %}" class="btn btn-success">New Course Add</a>
        </div>
          <ul class="pagination justify-content-center">
            <table class="table table-white table-striped text-center">
              <thead>
                <tr>
                  <th scope="col">Image</th>
                  <th scope="col">Title</th>
                  <th scope="col">Description</th>
                  <th scope="col">Edit</th>
                  <th scope="col">Delete</th>
                </tr>
              </thead>
              <tbody>
                {% for course in page_obj.object_list %}

                <tr>
                  <th scope="row">
                    <img
                      src="{{course.img.url}}"
                      class="me-3"
                      alt="{{ course.title }}"
                      style="width: 200px; height: auto"
                    />
                  </th>
                  <td>{{ course.title }}</td>
                  <td>{{ course.description|truncatewords:20 }}</td>
                  <td>
                    <a href="{% url 'edit_course' course.id %}" class="btn btn-warning mt-3 align-self-start">Edit</a>
                  </td>
                  <td>
                    <form action="" method = "POST">
                      <a href="{% url 'delete_course' course.id %}" class="btn btn-danger mt-3 align-self-start">Delete</a>
                    </form>
                    
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>

            {% if page_obj.paginator.num_pages > 1%} {% if page_obj.has_previous %}
            <li class="page-item">
              <a
                class="page-link"
                href="?page={{ page_obj.previous_page_number }}"
                >Previous</a
              >
            </li>
            {% else %}
            <li class="page-item disabled">
              <a class="page-link" href="#">Previous</a>
            </li>
            {% endif %} {% for i in page_obj.paginator.page_range %} {% if page_obj.number == i %}
            <li class="page-item active">
              <a class="page-link" href="#">{{ i }}</a>
            </li>
            {% else %}
            <li class="page-item">
              <a class="page-link" href="?page={{ i }}">{{ i }}</a>
            </li>
            {% endif %} {% endfor %} {% if page_obj.has_next %}
            <li class="page-item">
              <a class="page-link" href="?page={{ page_obj.next_page_number }}"
                >Next</a
              >
            </li>
            {% else %}
            <li class="page-item disabled">
              <a class="page-link" href="#">Next</a>
            </li>
            {% endif %} {%endif%}
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>

{% endblock %}
